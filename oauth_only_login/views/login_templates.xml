<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- Hide email and password fields and login button -->
    <template id="oauth_only_login_form" inherit_id="web.login" name="OAuth Only Login Form" priority="99">
        <!-- Hide email field -->
        <xpath expr="//div[@class='mb-3 field-login']" position="replace"/>
        
        <!-- Hide password field -->
        <xpath expr="//div[@class='mb-3'][input[@name='password']]" position="replace"/>
        
        <!-- Hide login button -->
        <xpath expr="//button[@type='submit'][@class='btn btn-primary']" position="replace"/>
    </template>

    <!-- Completely disable signup functionality -->
    <template id="oauth_only_disable_signup" inherit_id="auth_signup.signup" name="Disable Signup" priority="100">
        <xpath expr="//t[@t-call='web.login_layout']" position="replace">
            <t t-call="web.login_layout">
                <div class="text-center">
                    <div class="mb-4">
                        <h4>Signup Disabled</h4>
                        <p class="text-muted">Account registration is not available. Please contact your administrator.</p>
                    </div>
                    
                    <div class="mt-3">
                        <a href="/web/login" class="btn btn-primary">
                            Back to Login
                        </a>
                    </div>
                </div>
            </t>
        </xpath>
    </template>

    <!-- Disable password reset functionality -->
    <template id="oauth_only_disable_reset" inherit_id="auth_signup.reset_password" name="Disable Password Reset" priority="100">
        <xpath expr="//t[@t-call='web.login_layout']" position="replace">
            <t t-call="web.login_layout">
                <div class="text-center">
                    <div class="mb-4">
                        <h4>Password Reset Disabled</h4>
                        <p class="text-muted">Password reset is not available. Please contact your administrator.</p>
                    </div>
                    
                    <div class="mt-3">
                        <a href="/web/login" class="btn btn-primary">
                            Back to Login
                        </a>
                    </div>
                </div>
            </t>
        </xpath>
    </template>

    <!-- Remove signup and reset password links from login page -->
    <template id="oauth_only_remove_links" inherit_id="auth_signup.login" name="Remove Signup Links" priority="100">
        <!-- Remove signup link if it exists -->
        <xpath expr="//p[@class='mt-2 text-center']" position="replace"/>
        
        <!-- Remove reset password link if it exists -->
        <xpath expr="//label[@for='password']/a[@t-if='reset_password_enabled']" position="replace"/>
    </template>

</odoo> 