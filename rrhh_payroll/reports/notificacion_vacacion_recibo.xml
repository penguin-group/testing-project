<odoo>
    <data>

        <template id="rrhh_payroll.notificacion_vacacion_recibo_template_t">
            <div style="float:left;width:48%;margin-left:10px;border-left:1px dashed gray;padding-left:15px;">
                <div id="recibo" style="border:3px solid black;">
                    <style>
                        td {border:1px solid black;}
                    </style>
                    <table style="width:100%;">
                        <tr style="text-align:center;">
                            <td style="border:1px solid white;" colspan="3">Recibo de vacaciones</td>
                        </tr>
                        <tr style="text-align:center;">
                            <td style="border:1px solid white;" colspan="3">Empleador:
                                <strong t-esc="doc.company_id.name"/>
                            </td>
                        </tr>
                        <tr style="text-align:center;">
                            <td style="border:1px solid white;" colspan="3">Patronal:
                                <strong t-esc="doc.contract_id.patronal_mtess_id.number"/>
                            </td>
                        </tr>
                        <tr style="text-align:center;">
                            <td style="border-top-style:1px solid white;border-bottom-style:1px solid black;"
                                colspan="3">Empleado:
                                <strong t-esc="doc.employee_id.name"/>
                            </td>
                        </tr>
                        <tr style="text-align:center;">
                            <td>
                                <strong>CONCEPTO</strong>
                            </td>
                            <td>
                                <strong>HABERES</strong>
                            </td>
                            <td>
                                <strong>DESCUENTO</strong>
                            </td>
                        </tr>
                        <tr>
                            <td>Vacaciones anuales remuneradas correspondientes
                                <br/>
                                al periodo
                                <strong t-field="doc.fecha_inicio_vacaciones"
                                        t-field-options="{'format': 'DD-MM-YYYY'}"/>
                                al
                                <strong t-field="doc.fecha_fin_vacaciones" t-field-options="{'format': 'DD-MM-YYYY'}"/>
                            </td>
                            <td style="text-align:right;">
                                <strong t-esc="'{0:,}'.format(int(sum(doc.payslip_id.line_ids.filtered(lambda x:x.code == 'GROSS').mapped('total')))).replace(',', '.')"/>
                            </td>
                            <td style="text-align:right;">
                                0
                            </td>
                        </tr>
                        <t t-if="True or doc.payslip_id.contract_id.patronal_ips_id or doc.payslip_id.contract_id.patronal_ips_id">
                            <tr>
                                <td>
                                    <t t-esc="doc.payslip_id.line_ids.filtered(lambda x:x.category_id.code == 'DED').filtered(lambda x:x.total != 0)[0].name"/>
                                </td>
                                <td style="text-align:right;">
                                    0
                                </td>
                                <td style="text-align:right;">
                                    -
                                    <strong t-esc="'{0:,}'.format(int(sum(doc.payslip_id.line_ids.filtered(lambda x:x.category_id.code == 'DED').mapped('total')))).replace(',', '.')"/>
                                </td>
                            </tr>
                        </t>
                        <tr>
                            <td colspan="2" style="border:1px solid white;">
                                TOTAL A PERCIBIR
                            </td>
                            <td style="border:1px solid white;text-align:right">
                                <strong t-esc="'{0:,}'.format(int(sum(doc.payslip_id.line_ids.filtered(lambda x:x.code == 'NET').mapped('total')))).replace(',', '.')"/>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="3">Son Guaranies:
                                <strong t-esc="doc.numero_a_letras(sum(doc.payslip_id.line_ids.filtered(lambda x:x.code == 'NET').mapped('total'))).upper()"/>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="3">Fecha de pago:
                                <strong t-field="doc.fecha_pago_vacaciones"
                                        t-field-options="{'format': 'DD-MM-YYYY'}"/>
                            </td>
                        </tr>
                    </table>
                    <table style="text-align:center;width:100%;margin-top:100px;border:1px solid white;">
                        <tr>
                            <td style="border:1px solid white;">
                                ---------------------------------<br/>Firma del Empleador
                                <br/>
                                <strong t-esc="doc.company_id.name"/>
                                <br/>
                                <strong>C.I.N°
                                    <t t-esc="doc.company_id.vat"/>
                                </strong>
                            </td>

                            <td style="border:1px solid white;">
                                ---------------------------------<br/>Firma del Empleado
                                <br/>
                                <strong t-esc="doc.employee_id.name"/>
                                <br/>
                                <strong>C.I.N°
                                    <t t-esc="doc.employee_id.identification_id"/>
                                </strong>
                            </td>
                        </tr>
                    </table>
                </div>
            </div>
        </template>
        <template id="rrhh_payroll.notificacion_vacacion_recibo_template">
            <t t-foreach="docs" t-as="doc">
                <t t-call="web.basic_layout">
                    <div class="page">
                        <t t-foreach="range(0,2)" t-as="c">
                            <t t-call="rrhh_payroll.notificacion_vacacion_recibo_template_t">
                                <t t-set="doc" t-value="doc"/>
                            </t>
                        </t>
                    </div>
                </t>
            </t>
        </template>

        <record model="ir.actions.report" id="rrhh_payroll.notificacion_vacacion_recibo_report">
            <field name="name">Recibo de Vacaciones</field>
            <field name="model">notificacion.vacacion</field>
            <field name="report_type">qweb-pdf</field>
            <field name="report_name">rrhh_payroll.notificacion_vacacion_recibo_template</field>
            <field name="paperformat_id" ref="rrhh_payroll.papel_recibos"/>
            <field name="binding_model_id" ref="rrhh_payroll.model_notificacion_vacacion"/>
            <field name="binding_type">report</field>
        </record>

    </data>
</odoo>